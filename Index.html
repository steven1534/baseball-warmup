<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baseball Pre-Game Warm-Up Visual</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
            color: #333;
        }
        .timeline-item {
            position: relative;
            padding-left: 2.5rem; /* Space for the dot */
            margin-bottom: 1.5rem;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0.25rem; /* Align with text */
            width: 1rem;
            height: 1rem;
            border-radius: 50%;
            background-color: #3b82f6; /* Blue dot */
            border: 2px solid #2563eb; /* Darker blue border */
            z-index: 1;
        }
        .timeline-item:not(:last-child)::after {
            content: '';
            position: absolute;
            left: 0.45rem; /* Align with center of dot */
            top: 1.5rem; /* Start below the dot */
            bottom: -0.5rem; /* Extend below the item */
            width: 2px;
            background-color: #93c5fd; /* Light blue line */
            z-index: 0;
        }
    </style>
</head>
<body class="p-4 sm:p-8 md:p-12 lg:p-16">
    <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-2xl p-6 sm:p-8 lg:p-10 border border-blue-200">
        <h1 class="text-3xl sm:text-4xl lg:text-5xl font-extrabold text-center mb-6 sm:mb-8 text-blue-800 leading-tight">
            ⚾ Pre-Game Baseball Warm-Up
        </h1>
        <p class="text-center text-lg sm:text-xl text-gray-600 mb-8 sm:mb-10">
            A detailed 60-minute plan to get your team game-ready!
        </p>

        <div class="space-y-6">
            <!-- Warm-up Item 1 -->
            <div class="timeline-item bg-blue-50 p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                <h2 class="text-xl sm:text-2xl font-bold text-blue-700 mb-1">60 - 55 Minutes: Arrival & Initial Prep</h2>
                <p class="text-gray-700 mb-1"><span class="font-semibold">Objective:</span> Settle in and begin individual readiness.</p>
                <p class="text-gray-600 text-sm sm:text-base">Players arrive, get dressed, and begin individual light stretching or foam rolling as needed. Hydration check.</p>
            </div>

            <!-- Warm-up Item 2: Cages - Focused Hitting Rounds with LLM Feature -->
            <div class="timeline-item bg-blue-50 p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                <h2 class="text-xl sm:text-2xl font-bold text-blue-700 mb-1">55 - 40 Minutes: Cages - Focused Hitting Rounds</h2>
                <p class="text-gray-700 mb-1"><span class="font-semibold">Objective:</span> Develop situational hitting and execution.</p>
                <p class="text-gray-600 text-sm sm:text-base mb-3">Three focused rounds of batting practice. Before each swing, clearly state your situation, state your plan, then execute. Optional: Fourth round for bunting practice if time permits.</p>

                <div class="mt-4">
                    <button id="generateSituationBtn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">
                        ✨ Generate Hitting Situation ✨
                    </button>
                    <div id="situationOutput" class="mt-3 p-3 bg-blue-100 border border-blue-300 rounded-md text-blue-800 hidden">
                        <p class="font-semibold">Generated Situation:</p>
                        <p id="situationText" class="mt-1"></p>
                    </div>
                    <div id="loadingSituation" class="mt-3 text-blue-600 font-semibold hidden">
                        Generating situation...
                    </div>
                </div>
            </div>

            <!-- Warm-up Item 3 -->
            <div class="timeline-item bg-blue-50 p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                <h2 class="text-xl sm:text-2xl font-bold text-blue-700 mb-1">40 - 38 Minutes: Transition to Field</h2>
                <p class="text-gray-700 mb-1"><span class="font-semibold">Objective:</span> Efficient movement and readiness for defensive drills.</p>
                <p class="text-gray-600 text-sm sm:text-base">Hustle from the cages to the field. All players should have their gloves ready and on hand.</p>
            </div>

            <!-- Warm-up Item 4 -->
            <div class="timeline-item bg-blue-50 p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                <h2 class="text-xl sm:text-2xl font-bold text-blue-700 mb-1">38 - 34 Minutes: Team Foul-Pole Jog</h2>
                <p class="text-gray-700 mb-1"><span class="font-semibold">Objective:</span> Elevate heart rate and begin full-body warm-up.</p>
                <p class="text-gray-600 text-sm sm:text-base">A light, coordinated jog as a team from one foul pole to the other and back, or multiple laps depending on field size. Focus on controlled breathing.</p>
            </div>

            <!-- Warm-up Item 5: Dynamic Stretch with LLM Feature -->
            <div class="timeline-item bg-blue-50 p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                <h2 class="text-xl sm:text-2xl font-bold text-blue-700 mb-1">34 - 28 Minutes: Dynamic Stretch</h2>
                <p class="text-gray-700 mb-1"><span class="font-semibold">Objective:</span> Increase range of motion and prepare muscles for explosive movements.</p>
                <p class="text-gray-600 text-sm sm:text-base mb-3">Team-led dynamic stretching routine including arm circles, leg swings, torso twists, lunges, high knees, and butt kicks.</p>

                <div class="mt-4">
                    <button id="generateStretchBtn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50">
                        ✨ Generate Dynamic Stretch Routine ✨
                    </button>
                    <div id="stretchOutput" class="mt-3 p-3 bg-green-100 border border-green-300 rounded-md text-green-800 hidden">
                        <p class="font-semibold">Generated Routine:</p>
                        <p id="stretchText" class="mt-1"></p>
                    </div>
                    <div id="loadingStretch" class="mt-3 text-green-600 font-semibold hidden">
                        Generating routine...
                    </div>
                </div>
            </div>

            <!-- Warm-up Item 6 -->
            <div class="timeline-item bg-blue-50 p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                <h2 class="text-xl sm:text-2xl font-bold text-blue-700 mb-1">28 - 22 Minutes: Individual Mobility</h2>
                <p class="text-gray-700 mb-1"><span class="font-semibold">Objective:</span> Address individual flexibility and movement needs.</p>
                <p class="text-gray-600 text-sm sm:text-base">Players break off for individual mobility drills or targeted stretches (e.g., band work, specific muscle stretches).</p>
            </div>

            <!-- Warm-up Item 7: Throwing Ladder with LLM Feature -->
            <div class="timeline-item bg-blue-50 p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                <h2 class="text-xl sm:text-2xl font-bold text-blue-700 mb-1">22 - 14 Minutes: Throwing Ladder</h2>
                <p class="text-gray-700 mb-1"><span class="font-semibold">Objective:</span> Progressively warm up arms and refine throwing mechanics.</p>
                <p class="text-gray-600 text-sm sm:text-base mb-3">Structured throwing progression, gradually increasing distance and intensity. Focus on accuracy and form; "save the bullets" for the game.</p>

                <div class="mt-4">
                    <button id="generateThrowingFocusBtn" class="bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-opacity-50">
                        ✨ Suggest Throwing Focus ✨
                    </button>
                    <div id="throwingFocusOutput" class="mt-3 p-3 bg-yellow-100 border border-yellow-300 rounded-md text-yellow-800 hidden">
                        <p class="font-semibold">Suggested Focus:</p>
                        <p id="throwingFocusText" class="mt-1"></p>
                    </div>
                    <div id="loadingThrowingFocus" class="mt-3 text-yellow-600 font-semibold hidden">
                        Generating focus...
                    </div>
                </div>
            </div>

            <!-- Warm-up Item 8: Quick Infield/Outfield (I/O) Reps with LLM Feature -->
            <div class="timeline-item bg-blue-50 p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                <h2 class="text-xl sm:text-2xl font-bold text-blue-700 mb-1">14 - 8 Minutes: Quick Infield/Outfield (I/O) Reps</h2>
                <p class="text-gray-700 mb-1"><span class="font-semibold">Objective:</span> Sharpen defensive fundamentals and communication.</p>
                <p class="text-gray-600 text-sm sm:text-base mb-3">Fast-paced, efficient defensive reps for infielders (ground balls, double plays) and outfielders (fly balls, throws to bases). Keep the pace high.</p>

                <div class="mt-4">
                    <button id="generateFieldingTipBtn" class="bg-orange-600 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-opacity-50">
                        ✨ Generate Fielding Tip ✨
                    </button>
                    <div id="fieldingTipOutput" class="mt-3 p-3 bg-orange-100 border border-orange-300 rounded-md text-orange-800 hidden">
                        <p class="font-semibold">Suggested Fielding Tip:</p>
                        <p id="fieldingTipText" class="mt-1"></p>
                    </div>
                    <div id="loadingFieldingTip" class="mt-3 text-orange-600 font-semibold hidden">
                        Generating tip...
                    </div>
                </div>
            </div>

            <!-- Warm-up Item 9 -->
            <div class="timeline-item bg-blue-50 p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                <h2 class="text-xl sm:text-2xl font-bold text-blue-700 mb-1">8 - 5 Minutes: Pitcher-Catcher Finish</h2>
                <p class="text-gray-700 mb-1"><span class="font-semibold">Objective:</span> Final arm preparation for pitchers and catchers.</p>
                <p class="text-gray-600 text-sm sm:text-base">Pitchers throw a few more pitches to catchers, focusing on command and feel. Catchers continue to warm up their throwing arm.</p>
            </div>

            <!-- Warm-up Item 10: Signs & Game Plan with LLM Features and Custom Sign System -->
            <div class="timeline-item bg-blue-50 p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300">
                <h2 class="text-xl sm:text-2xl font-bold text-blue-700 mb-1">5 - 0 Minutes: Signs & Game Plan</h2>
                <p class="text-gray-700 mb-1"><span class="font-semibold">Objective:</span> Final mental preparation, strategy review, and team cohesion.</p>
                <p class="text-gray-600 text-sm sm:text-base mb-3">Review offensive and defensive signs. Briefly discuss opposing team tendencies or specific game plan points. Crucially: "Bring energy!" with a final huddle or cheer.</p>

                <div class="mt-4 space-y-4">
                    <!-- Game Plan Suggestion -->
                    <div>
                        <label for="opponentInput" class="block text-gray-700 text-sm font-bold mb-2">
                            Opponent Details (e.g., "good hitting, weak pitching"):
                        </label>
                        <input type="text" id="opponentInput" class="shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500 mb-3" placeholder="Enter opponent's strengths/weaknesses">
                        <button id="generateGamePlanBtn" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50">
                            ✨ Generate Game Plan Suggestion ✨
                        </button>
                        <div id="gamePlanOutput" class="mt-3 p-3 bg-purple-100 border border-purple-300 rounded-md text-purple-800 hidden">
                            <p class="font-semibold">Suggested Game Plan:</p>
                            <p id="gamePlanText" class="mt-1"></p>
                        </div>
                        <div id="loadingGamePlan" class="mt-3 text-purple-600 font-semibold hidden">
                            Generating game plan...
                        </div>
                    </div>

                    <!-- Custom Sign System Display -->
                    <div class="bg-indigo-100 p-4 rounded-lg border border-indigo-300 text-indigo-800">
                        <p class="font-bold text-lg mb-2">Our Team's Sign System:</p>
                        <ul class="list-disc list-inside space-y-1">
                            <li><span class="font-semibold">Indicator:</span> Touch the <span class="font-bold">chin</span>. The touch immediately after the indicator is the action sign.</li>
                            <li><span class="font-semibold">Fakes:</span> Each touch after the action sign is to keep our sign system from being figured out by the other team.</li>
                            <li><span class="font-semibold">Sign Off:</span> If at any time, swipe hand across the chest. No actionable play is on.</li>
                            <li><span class="font-semibold">Steal:</span> Touch <span class="font-bold">chin</span>, then immediately touch <span class="font-bold">left shoulder</span> (no swipe across chest).</li>
                            <li><span class="font-semibold">Bunt:</span> Touch <span class="font-bold">chin</span>, then immediately touch the <span class="font-bold">belt</span> (no swipe across chest).</li>
                            <li><span class="font-semibold">Hit and Run:</span> Touch <span class="font-bold">chin</span>, then immediately <span class="font-bold">slide hand down the left arm</span> (no swipe across chest).</li>
                            <li><span class="font-semibold">Take:</span> <span class="font-bold">No indicator</span>. Just palm out facing towards you.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <p class="text-center text-gray-500 text-sm mt-8">
            This structured approach ensures every minute is utilized effectively for optimal pre-game preparation.
        </p>
    </div>

    <script>
        // --- Situational Hitting Generator ---
        document.getElementById('generateSituationBtn').addEventListener('click', async () => {
            const situationOutput = document.getElementById('situationOutput');
            const situationText = document.getElementById('situationText');
            const loadingSituation = document.getElementById('loadingSituation');

            // Show loading indicator, hide previous output
            situationOutput.classList.add('hidden');
            loadingSituation.classList.remove('hidden');
            situationText.textContent = '';

            const prompt = "Generate a realistic and concise baseball hitting situation for batting practice. Include details like inning, score, base runners, and outs. For example: 'Bottom 9th, tied 3-3, runner on 2nd, 1 out.'";
            let chatHistory = [];
            chatHistory.push({ role: "user", parts: [{ text: prompt }] });

            const payload = { contents: chatHistory };
            const apiKey = ""; // API key will be provided by the Canvas environment
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    situationText.textContent = text;
                    situationOutput.classList.remove('hidden');
                } else {
                    situationText.textContent = 'Failed to generate situation. Please try again.';
                    situationOutput.classList.remove('hidden');
                }
            } catch (error) {
                console.error('Error generating situation:', error);
                situationText.textContent = 'An error occurred. Please check your network connection.';
                situationOutput.classList.remove('hidden');
            } finally {
                loadingSituation.classList.add('hidden');
            }
        });

        // --- Dynamic Stretch Routine Generator ---
        document.getElementById('generateStretchBtn').addEventListener('click', async () => {
            const stretchOutput = document.getElementById('stretchOutput');
            const stretchText = document.getElementById('stretchText');
            const loadingStretch = document.getElementById('loadingStretch');

            // Show loading indicator, hide previous output
            stretchOutput.classList.add('hidden');
            loadingStretch.classList.remove('hidden');
            stretchText.textContent = '';

            const prompt = "Generate a list of 5-7 dynamic stretching exercises suitable for a baseball pre-game warm-up. Focus on movements that prepare for throwing, hitting, and fielding. Format as a numbered list.";
            let chatHistory = [];
            chatHistory.push({ role: "user", parts: [{ text: prompt }] });

            const payload = { contents: chatHistory };
            const apiKey = ""; // API key will be provided by the Canvas environment
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    // Replace newlines with <br> for proper HTML rendering of lists
                    stretchText.innerHTML = text.replace(/\n/g, '<br>');
                    stretchOutput.classList.remove('hidden');
                } else {
                    stretchText.textContent = 'Failed to generate routine. Please try again.';
                    stretchOutput.classList.remove('hidden');
                }
            } catch (error) {
                console.error('Error generating stretch routine:', error);
                stretchText.textContent = 'An error occurred. Please check your network connection.';
                stretchOutput.classList.remove('hidden');
            } finally {
                loadingStretch.classList.add('hidden');
            }
        });

        // --- Game Plan Strategy Suggestor ---
        document.getElementById('generateGamePlanBtn').addEventListener('click', async () => {
            const opponentInput = document.getElementById('opponentInput').value;
            const gamePlanOutput = document.getElementById('gamePlanOutput');
            const gamePlanText = document.getElementById('gamePlanText');
            const loadingGamePlan = document.getElementById('loadingGamePlan');

            // Show loading indicator, hide previous output
            gamePlanOutput.classList.add('hidden');
            loadingGamePlan.classList.remove('hidden');
            gamePlanText.textContent = '';

            if (!opponentInput.trim()) {
                gamePlanText.textContent = 'Please enter some details about the opponent to generate a game plan.';
                gamePlanOutput.classList.remove('hidden');
                loadingGamePlan.classList.add('hidden');
                return;
            }

            const prompt = `Based on the opponent's characteristics: "${opponentInput}", suggest a concise baseball game plan strategy. Focus on key offensive and defensive approaches.`;
            let chatHistory = [];
            chatHistory.push({ role: "user", parts: [{ text: prompt }] });

            const payload = { contents: chatHistory };
            const apiKey = ""; // API key will be provided by the Canvas environment
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    gamePlanText.textContent = text;
                    gamePlanOutput.classList.remove('hidden');
                } else {
                    gamePlanText.textContent = 'Failed to generate game plan. Please try again.';
                    gamePlanOutput.classList.remove('hidden');
                }
            } catch (error) {
                console.error('Error generating game plan:', error);
                gamePlanText.textContent = 'An error occurred. Please check your network connection.';
                gamePlanOutput.classList.remove('hidden');
            } finally {
                loadingGamePlan.classList.add('hidden');
            }
        });

        // --- Throwing Ladder Focus Suggestor ---
        document.getElementById('generateThrowingFocusBtn').addEventListener('click', async () => {
            const throwingFocusOutput = document.getElementById('throwingFocusOutput');
            const throwingFocusText = document.getElementById('throwingFocusText');
            const loadingThrowingFocus = document.getElementById('loadingThrowingFocus');

            // Show loading indicator, hide previous output
            throwingFocusOutput.classList.add('hidden');
            loadingThrowingFocus.classList.remove('hidden');
            throwingFocusText.textContent = '';

            const prompt = "Generate a concise, single-sentence mental or mechanical focus point for a baseball throwing warm-up. Examples: 'Focus on throwing through the target.', 'Emphasize a consistent arm slot.', 'Work on quick and clean transfers.', 'Concentrate on hitting your partner's chest.'";
            let chatHistory = [];
            chatHistory.push({ role: "user", parts: [{ text: prompt }] });

            const payload = { contents: chatHistory };
            const apiKey = ""; // API key will be provided by the Canvas environment
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    throwingFocusText.textContent = text;
                    throwingFocusOutput.classList.remove('hidden');
                } else {
                    throwingFocusText.textContent = 'Failed to generate focus. Please try again.';
                    throwingFocusOutput.classList.remove('hidden');
                }
            } catch (error) {
                console.error('Error generating throwing focus:', error);
                throwingFocusText.textContent = 'An error occurred. Please check your network connection.';
                throwingFocusOutput.classList.remove('hidden');
            } finally {
                loadingThrowingFocus.classList.add('hidden');
            }
        });

        // --- Fielding Tip Generator ---
        document.getElementById('generateFieldingTipBtn').addEventListener('click', async () => {
            const fieldingTipOutput = document.getElementById('fieldingTipOutput');
            const fieldingTipText = document.getElementById('fieldingTipText');
            const loadingFieldingTip = document.getElementById('loadingFieldingTip');

            // Show loading indicator, hide previous output
            fieldingTipOutput.classList.add('hidden');
            loadingFieldingTip.classList.remove('hidden');
            fieldingTipText.textContent = '';

            const prompt = "Generate a concise, single-sentence fielding tip for baseball players during quick drills. Focus on either infield or outfield. Examples: 'Infielders: Stay low through the ball.', 'Outfielders: Work on getting behind the ball.', 'Infielders: Focus on soft hands and quick transfers.', 'Outfielders: Practice crow-hops for strong throws.'";
            let chatHistory = [];
            chatHistory.push({ role: "user", parts: [{ text: prompt }] });

            const payload = { contents: chatHistory };
            const apiKey = ""; // API key will be provided by the Canvas environment
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    fieldingTipText.textContent = text;
                    fieldingTipOutput.classList.remove('hidden');
                } else {
                    fieldingTipText.textContent = 'Failed to generate tip. Please try again.';
                    fieldingTipOutput.classList.remove('hidden');
                }
            } catch (error) {
                console.error('Error generating fielding tip:', error);
                fieldingTipText.textContent = 'An error occurred. Please check your network connection.';
                fieldingTipOutput.classList.remove('hidden');
            } finally {
                loadingFieldingTip.classList.add('hidden');
            }
        });
    </script>
</body>
</html>
